import{r as e,o as p,c as o,a as n,e as a,F as u,d as l,b as t}from"./app.01142347.js";import{_ as c}from"./plugin-vue_export-helper.21dcd24c.js";const i={},r=l(`<h3 id="jq-\u4F7F\u7528\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#jq-\u4F7F\u7528\u603B\u7ED3" aria-hidden="true">#</a> jq \u4F7F\u7528\u603B\u7ED3</h3><h4 id="\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#\u7B80\u4ECB" aria-hidden="true">#</a> \u7B80\u4ECB</h4><blockquote><p>Jq is a lightweight and flexible command-line JSON processor.</p></blockquote><p>jq \u662F\u4E00\u4E2A\u7528\u6765\u5904\u7406json\u6570\u636E\u7684\u547D\u4EE4\u884C\u5DE5\u5177</p><h4 id="\u4E0B\u8F7D" tabindex="-1"><a class="header-anchor" href="#\u4E0B\u8F7D" aria-hidden="true">#</a> \u4E0B\u8F7D</h4><blockquote><p>brew install jq</p></blockquote><h4 id="\u8BED\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u8BED\u6CD5" aria-hidden="true">#</a> \u8BED\u6CD5</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>jq  <span class="token punctuation">[</span>options<span class="token punctuation">]</span>  <span class="token operator">&lt;</span>jq filter<span class="token operator">&gt;</span>  <span class="token punctuation">[</span>file<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u793A\u4F8B" aria-hidden="true">#</a> \u793A\u4F8B</h4><h5 id="\u8BED\u6CD5-1" tabindex="-1"><a class="header-anchor" href="#\u8BED\u6CD5-1" aria-hidden="true">#</a> <code>.</code> \u8BED\u6CD5</h5><p>\u628A\u8F93\u5165\u8F6C\u8F93\u51FA</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&#39;{&quot;foo&quot;: 0}&#39;</span> <span class="token operator">|</span> jq <span class="token builtin class-name">.</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;foo&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="\u5BF9\u8C61\u7684\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u5BF9\u8C61\u7684\u7D22\u5F15" aria-hidden="true">#</a> \u5BF9\u8C61\u7684\u7D22\u5F15</h5><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>         jq <span class="token string">&#39;.foo&#39;</span>
Input:   <span class="token punctuation">{</span><span class="token string">&quot;foo&quot;</span><span class="token builtin class-name">:</span> <span class="token number">42</span>, <span class="token string">&quot;bar&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;less interesting data&quot;</span><span class="token punctuation">}</span>
Output:  <span class="token number">42</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="\u6570\u7EC4\u7D22\u5F15-2" tabindex="-1"><a class="header-anchor" href="#\u6570\u7EC4\u7D22\u5F15-2" aria-hidden="true">#</a> \u6570\u7EC4\u7D22\u5F15 <code>.[2]</code></h5><p>\u6570\u7EC4\u7D22\u5F15\u4ECE0\u5F00\u59CB\uFF0C\u6240\u4EE5 <code>.[2]</code> \u8868\u793A\u7B2C3\u4E2A\u5143\u7D20\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	       jq <span class="token string">&#39;.[0]&#39;</span>
Input:	 <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;JSON&quot;</span>, <span class="token string">&quot;good&quot;</span>:true<span class="token punctuation">}</span>, <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;XML&quot;</span>, <span class="token string">&quot;good&quot;</span>:false<span class="token punctuation">}</span><span class="token punctuation">]</span>
Output:	 <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;JSON&quot;</span>, <span class="token string">&quot;good&quot;</span>:true<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="\u6570\u7EC4\u5207\u7247-10-15" tabindex="-1"><a class="header-anchor" href="#\u6570\u7EC4\u5207\u7247-10-15" aria-hidden="true">#</a> \u6570\u7EC4\u5207\u7247 <code>.[10: 15]</code></h5><p><code>.[10: 15]</code> \u8868\u793A\u63D0\u53D6\u6570\u7EC4\u5185\u7684\u5143\u7D20\uFF1A\u4ECE\u7B2C 11 \u4E2A\u5143\u7D20\u5F00\u59CB\u5230\u7B2C16\u4E2A\u5143\u7D20\u7ED3\u675F\uFF0C\u5305\u62EC\u7B2C 11 \u4E2A\u5143\u7D20\uFF0C\u4E0D\u5305\u62EC\u7B2C 16 \u4E2A\u5143\u7D20</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	      jq <span class="token string">&#39;.[2:4]&#39;</span>
Input	  <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span>,<span class="token string">&quot;b&quot;</span>,<span class="token string">&quot;c&quot;</span>,<span class="token string">&quot;d&quot;</span>,<span class="token string">&quot;e&quot;</span><span class="token punctuation">]</span>
Output	<span class="token punctuation">[</span><span class="token string">&quot;c&quot;</span>, <span class="token string">&quot;d&quot;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="\u6570\u7EC4\u904D\u5386" tabindex="-1"><a class="header-anchor" href="#\u6570\u7EC4\u904D\u5386" aria-hidden="true">#</a> \u6570\u7EC4\u904D\u5386 <code>.[]</code></h5><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	      jq <span class="token string">&#39;.[]&#39;</span>
Input	  <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;JSON&quot;</span>, <span class="token string">&quot;good&quot;</span>:true<span class="token punctuation">}</span>, <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;XML&quot;</span>, <span class="token string">&quot;good&quot;</span>:false<span class="token punctuation">}</span><span class="token punctuation">]</span>
Output	<span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;JSON&quot;</span>, <span class="token string">&quot;good&quot;</span>:true<span class="token punctuation">}</span>
        <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;XML&quot;</span>, <span class="token string">&quot;good&quot;</span>:false<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="\u8BED\u6CD5-2" tabindex="-1"><a class="header-anchor" href="#\u8BED\u6CD5-2" aria-hidden="true">#</a> <code>,</code> \u8BED\u6CD5</h5><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	      jq <span class="token string">&#39;.foo, .bar&#39;</span>
Input	  <span class="token punctuation">{</span><span class="token string">&quot;foo&quot;</span><span class="token builtin class-name">:</span> <span class="token number">42</span>, <span class="token string">&quot;bar&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;something else&quot;</span>, <span class="token string">&quot;baz&quot;</span><span class="token builtin class-name">:</span> true<span class="token punctuation">}</span>
Output	<span class="token number">42</span>
        <span class="token string">&quot;something else&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="\u7BA1\u9053\u8BED\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u7BA1\u9053\u8BED\u6CD5" aria-hidden="true">#</a> \u7BA1\u9053\u8BED\u6CD5 <code>|</code></h5><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	      jq <span class="token string">&#39;.[] | .name&#39;</span>
Input	  <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;JSON&quot;</span>, <span class="token string">&quot;good&quot;</span>:true<span class="token punctuation">}</span>, <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;XML&quot;</span>, <span class="token string">&quot;good&quot;</span>:false<span class="token punctuation">}</span><span class="token punctuation">]</span>
Output	<span class="token string">&quot;JSON&quot;</span>
        <span class="token string">&quot;XML&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="\u5E38\u89C1\u5185\u7F6E\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#\u5E38\u89C1\u5185\u7F6E\u51FD\u6570" aria-hidden="true">#</a> \u5E38\u89C1\u5185\u7F6E\u51FD\u6570</h5><h6 id="length" tabindex="-1"><a class="header-anchor" href="#length" aria-hidden="true">#</a> length</h6><ul><li>\u7528\u4E8E\u6570\u7EC4\u7684\u4E2A\u6570</li><li>\u7528\u4E8E\u5BF9\u8C61\u7684key-value\u5BF9\u6570</li><li>\u5B57\u7B26\u4E32\u7684\u652F\u4ED8\u957F\u5EA6</li><li>null \u7684 length \u4E3A0</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>				jq <span class="token string">&#39;.[] | length&#39;</span>
Input	  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1,2</span><span class="token punctuation">]</span>, <span class="token string">&quot;string&quot;</span>, <span class="token punctuation">{</span><span class="token string">&quot;a&quot;</span>:2<span class="token punctuation">}</span>, null<span class="token punctuation">]</span>
Output	<span class="token number">2</span>
        <span class="token number">6</span>
				<span class="token number">1</span>
				<span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h6 id="keys" tabindex="-1"><a class="header-anchor" href="#keys" aria-hidden="true">#</a> keys</h6><ul><li>\u7528\u4E8E\u6570\u7EC4\uFF0C\u8868\u793A\u6570\u7EC4\u7684\u7D22\u5F15\u3002\u4ECE 0 \u5230 length -1</li><li>\u7528\u4E0E\u5BF9\u8C61\uFF0C\u8868\u793A\u5BF9\u8C61\u7684\u6240\u6709key</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>				jq <span class="token string">&#39;keys&#39;</span>
Input		<span class="token punctuation">{</span><span class="token string">&quot;abc&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">&quot;abcd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, <span class="token string">&quot;Foo&quot;</span><span class="token builtin class-name">:</span> <span class="token number">3</span><span class="token punctuation">}</span>
Output	<span class="token punctuation">[</span><span class="token string">&quot;Foo&quot;</span>, <span class="token string">&quot;abc&quot;</span>, <span class="token string">&quot;abcd&quot;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h6 id="map-x" tabindex="-1"><a class="header-anchor" href="#map-x" aria-hidden="true">#</a> map(x)</h6><ul><li>\u5BF9\u6570\u7EC4\u7684\u6BCF\u4E2A\u5143\u7D20\u6267\u884C x \u64CD\u4F5C\uFF0C \u8FD4\u56DE\u4E00\u4E2A\u65B0\u6570\u7EC4</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>				jq <span class="token string">&#39;map(.+1)&#39;</span>
Input		<span class="token punctuation">[</span><span class="token number">1,2</span>,3<span class="token punctuation">]</span>
Output	<span class="token punctuation">[</span><span class="token number">2,3</span>,4<span class="token punctuation">]</span>


				jq <span class="token string">&#39;map_values(.+1)&#39;</span>
Input		<span class="token punctuation">{</span><span class="token string">&quot;a&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">&quot;b&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, <span class="token string">&quot;c&quot;</span><span class="token builtin class-name">:</span> <span class="token number">3</span><span class="token punctuation">}</span>
Output	<span class="token punctuation">{</span><span class="token string">&quot;a&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, <span class="token string">&quot;b&quot;</span><span class="token builtin class-name">:</span> <span class="token number">3</span>, <span class="token string">&quot;c&quot;</span><span class="token builtin class-name">:</span> <span class="token number">4</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h6 id="has-key" tabindex="-1"><a class="header-anchor" href="#has-key" aria-hidden="true">#</a> has(key)</h6><ul><li>\u5224\u65AD key \u662F\u5426\u5B58\u5728</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>				jq <span class="token string">&#39;map(has(&quot;foo&quot;))&#39;</span>
Input		<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;foo&quot;</span><span class="token builtin class-name">:</span> <span class="token number">42</span><span class="token punctuation">}</span>, <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
Output	<span class="token punctuation">[</span>true, false<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h6 id="sort" tabindex="-1"><a class="header-anchor" href="#sort" aria-hidden="true">#</a> sort</h6><ul><li>\u5BF9\u8F93\u5165\u5185\u5BB9\u8FDB\u884C\u6392\u5E8F</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>				jq <span class="token string">&#39;sort&#39;</span>
Input		<span class="token punctuation">[</span><span class="token number">8,3</span>,null,6<span class="token punctuation">]</span>
Output	<span class="token punctuation">[</span>null,3,6,8<span class="token punctuation">]</span>

				jq <span class="token string">&#39;sort_by(.foo)&#39;</span>
Input		<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;foo&quot;</span>:4, <span class="token string">&quot;bar&quot;</span>:10<span class="token punctuation">}</span>, <span class="token punctuation">{</span><span class="token string">&quot;foo&quot;</span>:3, <span class="token string">&quot;bar&quot;</span>:100<span class="token punctuation">}</span>, <span class="token punctuation">{</span><span class="token string">&quot;foo&quot;</span>:2, <span class="token string">&quot;bar&quot;</span>:1<span class="token punctuation">}</span><span class="token punctuation">]</span>
Output	<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;foo&quot;</span>:2, <span class="token string">&quot;bar&quot;</span>:1<span class="token punctuation">}</span>, <span class="token punctuation">{</span><span class="token string">&quot;foo&quot;</span>:3, <span class="token string">&quot;bar&quot;</span>:100<span class="token punctuation">}</span>, <span class="token punctuation">{</span><span class="token string">&quot;foo&quot;</span>:4, <span class="token string">&quot;bar&quot;</span>:10<span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h6 id="startswith-str" tabindex="-1"><a class="header-anchor" href="#startswith-str" aria-hidden="true">#</a> startswith(str)</h6><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>				jq <span class="token string">&#39;[.[]|startswith(&quot;foo&quot;)]&#39;</span>
Input		<span class="token punctuation">[</span><span class="token string">&quot;fo&quot;</span>, <span class="token string">&quot;foo&quot;</span>, <span class="token string">&quot;barfoo&quot;</span>, <span class="token string">&quot;foobar&quot;</span>, <span class="token string">&quot;barfoob&quot;</span><span class="token punctuation">]</span>
Output	<span class="token punctuation">[</span>false, true, false, true, false<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h6 id="endswith-str" tabindex="-1"><a class="header-anchor" href="#endswith-str" aria-hidden="true">#</a> endswith(str)</h6><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>				jq &#39;[.[]|endswith(&quot;foo&quot;)]&#39;
Input		[&quot;foobar&quot;, &quot;barfoo&quot;]
Output	[false, true]
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="\u6761\u4EF6\u8BED\u53E5" tabindex="-1"><a class="header-anchor" href="#\u6761\u4EF6\u8BED\u53E5" aria-hidden="true">#</a> \u6761\u4EF6\u8BED\u53E5</h5><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	      jq <span class="token string">&#39;if . == 0 then &quot;zero&quot; elif . == 1 then &quot;one&quot; else &quot;many&quot; end&#39;</span>
Input	  <span class="token number">2</span>
Output	<span class="token string">&quot;many&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="\u53C2\u8003\u8D44\u6599" tabindex="-1"><a class="header-anchor" href="#\u53C2\u8003\u8D44\u6599" aria-hidden="true">#</a> \u53C2\u8003\u8D44\u6599</h4>`,49),d={href:"https://stedolan.github.io/jq/download/",target:"_blank",rel:"noopener noreferrer"},b=t("Download jq"),k={href:"https://stedolan.github.io/jq/manual/",target:"_blank",rel:"noopener noreferrer"},h=t("jq Mannual (development version)");function q(m,g){const s=e("ExternalLinkIcon");return p(),o(u,null,[r,n("p",null,[n("a",d,[b,a(s)])]),n("p",null,[n("a",k,[h,a(s)])])],64)}var x=c(i,[["render",q]]);export{x as default};
