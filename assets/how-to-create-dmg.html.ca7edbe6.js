import{r as o,o as r,c as p,a as e,e as n,F as i,b as a,d as t}from"./app.01142347.js";import{_ as l}from"./plugin-vue_export-helper.21dcd24c.js";const c={},d=e("h1",{id:"how-to-create-dmg-file",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#how-to-create-dmg-file","aria-hidden":"true"},"#"),a(" How to create "),e("code",null,"dmg"),a(" file?")],-1),m=e("h2",{id:"what-is-a-dmg-file",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#what-is-a-dmg-file","aria-hidden":"true"},"#"),a(" What is a dmg file?")],-1),h=a("A file with the "),u=e("code",null,"dmg",-1),b=a(" extension is an "),g={href:"https://en.wikipedia.org/wiki/Apple_Disk_Image",target:"_blank",rel:"noopener noreferrer"},_=a("Apple Disk Image"),f=a(" file. When opened, an Apple Disk Image is mounted as a volume within the Finder."),k=e("p",null,[a("For this reason, a "),e("code",null,"dmg"),a(" file is often the file format used to store compressed software installers instead of having to use a physical disk.")],-1),v=e("h2",{id:"four-ways-to-create-dmg-file",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#four-ways-to-create-dmg-file","aria-hidden":"true"},"#"),a(" Four ways to create dmg file")],-1),x={id:"_1-node-appdmg",tabindex:"-1"},w=e("a",{class:"header-anchor",href:"#_1-node-appdmg","aria-hidden":"true"},"#",-1),y=a(" 1. "),N={href:"https://github.com/LinusU/node-appdmg",target:"_blank",rel:"noopener noreferrer"},A=a("node-appdmg"),I=t(`<p><code>node-appdmg</code> is a package to generate beautiful DMG-images for your OS X applications.</p><p><strong>Install</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -g appdmg
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>Usage</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>appdmg <span class="token operator">&lt;</span>config-json-path<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>dmg-path<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,5),D={id:"_2-create-dmg",tabindex:"-1"},F=e("a",{class:"header-anchor",href:"#_2-create-dmg","aria-hidden":"true"},"#",-1),V=a(" 2. "),$={href:"https://github.com/create-dmg/create-dmg",target:"_blank",rel:"noopener noreferrer"},U=a("create-dmg"),C=t(`<p><code>create-dmg</code> is a shell script to build fancy DMGs.</p><p><strong>Install</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>brew <span class="token function">install</span> create-dmg
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>Usage</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>create-dmg <span class="token punctuation">[</span>options <span class="token punctuation">..</span>.<span class="token punctuation">]</span> <span class="token operator">&lt;</span>output_name.dmg<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>source_folder<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-create-dmg-manually" tabindex="-1"><a class="header-anchor" href="#_3-create-dmg-manually" aria-hidden="true">#</a> 3. Create dmg manually</h3><p>Open <code>Disk Utility</code> app on your Mac;</p><p>Click the <code>File</code> menu at the top left of the window;</p><p>Select <code>New Image</code> -&gt; <code>Image from Folder ...</code> , Select the source file you want to convert to <code>dmg</code> file;</p><p>Enter the name of the export <code>dmg</code> file;</p><p>Click <code>Done</code> .</p><h3 id="_4-exploit-hdiutil-command" tabindex="-1"><a class="header-anchor" href="#_4-exploit-hdiutil-command" aria-hidden="true">#</a> 4. Exploit <code>hdiutil</code> command</h3><p><code>hdiutil</code> is a command line to manipulate disk images (attach, verify, create, etc).</p>`,13),E=a("For more detail, read "),S={href:"https://stackoverflow.com/a/1513578/5972156",target:"_blank",rel:"noopener noreferrer"},q=a("this answer"),B=a("."),L=t(`<p>A demo script to create dmg for your application:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#! /bin/bash</span>

<span class="token builtin class-name">set</span> -x
<span class="token builtin class-name">set</span> -e

<span class="token assign-left variable">AppName</span><span class="token operator">=</span><span class="token string">&quot;myAppName&quot;</span>
<span class="token assign-left variable">VolumeName</span><span class="token operator">=</span><span class="token string">&quot;myAppInstaller&quot;</span>

xcodebuild build -configuration Release

<span class="token comment"># make sure .app file exist</span>
<span class="token builtin class-name">test</span> -d ./build/Release/<span class="token variable">\${AppName}</span>.app <span class="token operator">||</span> <span class="token builtin class-name">exit</span> <span class="token number">1</span>

<span class="token comment"># if the target dmg file exist, remove it</span>
<span class="token builtin class-name">test</span> -f <span class="token variable">\${AppName}</span>.dmg <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> <span class="token variable">\${AppName}</span>.dmg

hdiutil create -megabytes <span class="token number">54</span> -fs HFS+ -volname <span class="token variable">\${VolumeName}</span> <span class="token variable">\${AppName}</span>.dmg
hdiutil <span class="token function">mount</span> <span class="token variable">\${AppName}</span>.dmg

<span class="token function">cp</span> -r ./build/Release/<span class="token variable">\${AppName}</span>.app /Volumes/<span class="token variable">\${VolumeName}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion" aria-hidden="true">#</a> Conclusion</h2><p>Using the <code>Disk Utility</code> is the sampest way to create a <code>dmg</code> file.</p><p>Use the third-party package <code>node-dmg</code> or <code>create-dmg</code> can provide more configuration.</p>`,5);function M(R,G){const s=o("ExternalLinkIcon");return r(),p(i,null,[d,m,e("p",null,[h,u,b,e("a",g,[_,n(s)]),f]),k,v,e("h3",x,[w,y,e("a",N,[A,n(s)])]),I,e("h3",D,[F,V,e("a",$,[U,n(s)])]),C,e("p",null,[E,e("a",S,[q,n(s)]),B]),L],64)}var T=l(c,[["render",M]]);export{T as default};
